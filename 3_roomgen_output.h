// AUTOGEN //
fn void room0_render(View v);
fn View room0_update(View v, Room **r, float w, float d, float dt);
fn float room0_cast_down(View v, float d);
vr Room room0 =
{ 4.000000,4.000000,4.000000
, 0, 0, 0
, room0_render
, room0_update
, room0_cast_down
};

fn void room1_render(View v);
fn View room1_update(View v, Room **r, float w, float d, float dt);
fn float room1_cast_down(View v, float d);
vr Room room1 =
{ 4.000000,4.000000,4.000000
, 0, 0, 0
, room1_render
, room1_update
, room1_cast_down
};

fn void room2_render(View v);
fn View room2_update(View v, Room **r, float w, float d, float dt);
fn float room2_cast_down(View v, float d);
vr Room room2 =
{ 40.000000,40.000000,40.000000
, 0, 0, 0
, room2_render
, room2_update
, room2_cast_down
};

fn void room3_render(View v);
fn View room3_update(View v, Room **r, float w, float d, float dt);
fn float room3_cast_down(View v, float d);
vr Room room3 =
{ 100.000000,40.000000,40.000000
, 0, 0, 0
, room3_render
, room3_update
, room3_cast_down
};

fn void room4_render(View v);
fn View room4_update(View v, Room **r, float w, float d, float dt);
fn float room4_cast_down(View v, float d);
vr Room room4 =
{ 5.000000,5.000000,5.000000
, 0, 0, 0
, room4_render
, room4_update
, room4_cast_down
};

fn void room5_render(View v);
fn View room5_update(View v, Room **r, float w, float d, float dt);
fn float room5_cast_down(View v, float d);
vr Room room5 =
{ 50.000000,4.000000,50.000000
, 0, 0, 0
, room5_render
, room5_update
, room5_cast_down
};

fn void room6_render(View v);
fn View room6_update(View v, Room **r, float w, float d, float dt);
fn float room6_cast_down(View v, float d);
vr Room room6 =
{ 3.000000,3.000000,400.000000
, 0, 0, 0
, room6_render
, room6_update
, room6_cast_down
};

fn void room7_render(View v);
fn View room7_update(View v, Room **r, float w, float d, float dt);
fn float room7_cast_down(View v, float d);
vr Room room7 =
{ 9.000000,3.000000,3.000000
, 0, 0, 0
, room7_render
, room7_update
, room7_cast_down
};

fn void room8_render(View v);
fn View room8_update(View v, Room **r, float w, float d, float dt);
fn float room8_cast_down(View v, float d);
vr Room room8 =
{ 3.000000,3.000000,3.000000
, 0, 0, 0
, room8_render
, room8_update
, room8_cast_down
};

fn void room9_render(View v);
fn View room9_update(View v, Room **r, float w, float d, float dt);
fn float room9_cast_down(View v, float d);
vr Room room9 =
{ 4.000000,1.000000,4.000000
, 0, 0, 0
, room9_render
, room9_update
, room9_cast_down
};

fn void room10_render(View v);
fn View room10_update(View v, Room **r, float w, float d, float dt);
fn float room10_cast_down(View v, float d);
vr Room room10 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room10_render
, room10_update
, room10_cast_down
};

fn void room11_render(View v);
fn View room11_update(View v, Room **r, float w, float d, float dt);
fn float room11_cast_down(View v, float d);
vr Room room11 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room11_render
, room11_update
, room11_cast_down
};

fn void room12_render(View v);
fn View room12_update(View v, Room **r, float w, float d, float dt);
fn float room12_cast_down(View v, float d);
vr Room room12 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room12_render
, room12_update
, room12_cast_down
};

fn void room13_render(View v);
fn View room13_update(View v, Room **r, float w, float d, float dt);
fn float room13_cast_down(View v, float d);
vr Room room13 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room13_render
, room13_update
, room13_cast_down
};

fn void room14_render(View v);
fn View room14_update(View v, Room **r, float w, float d, float dt);
fn float room14_cast_down(View v, float d);
vr Room room14 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room14_render
, room14_update
, room14_cast_down
};

fn void room15_render(View v);
fn View room15_update(View v, Room **r, float w, float d, float dt);
fn float room15_cast_down(View v, float d);
vr Room room15 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room15_render
, room15_update
, room15_cast_down
};

fn void room16_render(View v);
fn View room16_update(View v, Room **r, float w, float d, float dt);
fn float room16_cast_down(View v, float d);
vr Room room16 =
{ 11.000000,5.000000,5.000000
, 0, 0, 0
, room16_render
, room16_update
, room16_cast_down
};

fn void room17_render(View v);
fn View room17_update(View v, Room **r, float w, float d, float dt);
fn float room17_cast_down(View v, float d);
vr Room room17 =
{ 10.000000,5.000000,100.000000
, 0, 0, 0
, room17_render
, room17_update
, room17_cast_down
};

fn void room18_render(View v);
fn View room18_update(View v, Room **r, float w, float d, float dt);
fn float room18_cast_down(View v, float d);
vr Room room18 =
{ 10.000000,100.000000,10.000000
, 0, 0, 0
, room18_render
, room18_update
, room18_cast_down
};

fn void room19_render(View v);
fn View room19_update(View v, Room **r, float w, float d, float dt);
fn float room19_cast_down(View v, float d);
vr Room room19 =
{ 10.000000,10.000000,10.000000
, 0, 0, 0
, room19_render
, room19_update
, room19_cast_down
};


fn void room0_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 0);
	glUniform3f(u_scale_id, room0.w, room0.h, room0.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.py < room0.h) {
		View door = View_through_dwn(v, -room0.h, 2.000000f, 4.000000f, 2.000000f, 4.000000f);
		door.px -= 3.000000f;
		door.py += room0.h + room2.h;
		door.pz -= 3.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.pz < room0.d) {
		View door = View_through_bwd(v, -room0.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= -31.000000f;
		door.py -= 37.000000f;
		door.pz += room0.d + room2.d;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.px < room0.w) {
		View door = View_through_lft(v, -room0.w, -4.000000f, 4.000000f, -4.000000f, -2.000000f);
		door.px += room0.w + room4.w;
		door.py -= 1.000000f;
		door.pz -= 0.000000f;
		if(--depth) room4_render(door);
		depth++;
	}
	if(+v.px < room0.w) {
		View door = View_through_rgt(v, room0.w, -4.000000f, 4.000000f, -4.000000f, -2.000000f);
		door.px -= room0.w + room9.w;
		door.py -= -3.000000f;
		door.pz -= 0.000000f;
		if(--depth) room9_render(door);
		depth++;
	}
	if(+v.py < room0.h) {
		View door = View_through_uwd(v, room0.h, -4.000000f, 4.000000f, -4.000000f, 4.000000f);
		door.px -= 0.000000f;
		door.py -= room0.h + room5.h;
		door.pz -= 0.000000f;
		if(--depth) room5_render(door);
		depth++;
	}
	if(-v.py < room0.h) {
		View door = View_through_dwn(v, -room0.h, 0.000000f, 2.000000f, 2.000000f, 4.000000f);
		door.px -= 1.000000f;
		door.py += room0.h + room1.h;
		door.pz -= 3.000000f;
		if(--depth) room1_render(door);
		depth++;
	}

}
fn View room0_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room0.w < v.px && v.px < room0.w
	&& -room0.h < v.py && v.py < room0.h
	&& -room0.d < v.pz && v.pz < room0.d
	);
	if(v.px >= 2.000000f+d)
	if(v.px <= 4.000000f-d)
	if(v.pz >= 2.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py + y < -room0.h + w) {
		if(v.py + y < -room0.h) {
			*r = &room2;
			v.px -= 3.000000f;
			v.py += room0.h + room2.h;
			v.pz -= 3.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 2.000000f+d) v.px = 2.000000f+d, v.vx = 0;
		if(v.px > 4.000000f-d) v.px = 4.000000f-d, v.vx = 0;
		if(v.pz < 2.000000f+d) v.pz = 2.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z < -room0.d + w) {
		if(v.pz + z < -room0.d) {
			*r = &room2;
			v.px -= -31.000000f;
			v.py -= 37.000000f;
			v.pz += room0.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz += room0._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -4.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py >= -4.000000f+d)
	if(v.py <= -2.000000f-d)
	if(v.px + x < -room0.w + w) {
		if(v.px + x < -room0.w) {
			*r = &room4;
			v.px += room0.w + room4.w;
			v.py -= 1.000000f;
			v.pz -= 0.000000f;
			return room4_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -4.000000f+d) v.pz = -4.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		if(v.py < -4.000000f+d) v.py = -4.000000f+d, v.vy = 0;
		if(v.py > -2.000000f-d) v.py = -2.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -4.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py >= -4.000000f+d)
	if(v.py <= -2.000000f-d)
	if(v.px + x > room0.w - w) {
		if(v.px + x > room0.w) {
			*r = &room9;
			v.px -= room0.w + room9.w;
			v.py -= -3.000000f;
			v.pz -= 0.000000f;
			return room9_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -4.000000f+d) v.pz = -4.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		if(v.py < -4.000000f+d) v.py = -4.000000f+d, v.vy = 0;
		if(v.py > -2.000000f-d) v.py = -2.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -4.000000f+d)
	if(v.px <= 4.000000f-d)
	if(v.pz >= -4.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py + y > room0.h - w) {
		if(v.py + y > room0.h) {
			*r = &room5;
			v.px -= 0.000000f;
			v.py -= room0.h + room5.h;
			v.pz -= 0.000000f;
			return room5_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -4.000000f+d) v.px = -4.000000f+d, v.vx = 0;
		if(v.px > 4.000000f-d) v.px = 4.000000f-d, v.vx = 0;
		if(v.pz < -4.000000f+d) v.pz = -4.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= 0.000000f+d)
	if(v.px <= 2.000000f-d)
	if(v.pz >= 2.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py + y < -room0.h + w) {
		if(v.py + y < -room0.h) {
			*r = &room1;
			v.px -= 1.000000f;
			v.py += room0.h + room1.h;
			v.pz -= 3.000000f;
			return room1_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 0.000000f+d) v.px = 0.000000f+d, v.vx = 0;
		if(v.px > 2.000000f-d) v.px = 2.000000f-d, v.vx = 0;
		if(v.pz < 2.000000f+d) v.pz = 2.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room0.w-w) v.px=room0.w-w, v.vx*=0;
	if(v.py > room0.h-w) v.py=room0.h-w, v.vy*=-1;
	if(v.pz > room0.d-w) v.pz=room0.d-w, v.vz*=0;
	if(v.px < w-room0.w) v.px=w-room0.w, v.vx*=0;
	if(v.py < w-room0.h) v.py=w-room0.h, v.vy*=0;
	if(v.pz < w-room0.d) v.pz=w-room0.d, v.vz*=0;
	return v;
}
fn float room0_cast_down(View v, float d) {
	if(d < v.py + room0.h) return d;
	if(v.px >= 2.000000f)
	if(v.px <= 4.000000f)
	if(v.pz >= 2.000000f)
	if(v.pz <= 4.000000f) {
		v.px -= 3.000000f;
		v.py += room0.h + room2.h;
		v.pz -= 3.000000f;
		return room2_cast_down(v, d);
	}
	if(v.px >= 0.000000f)
	if(v.px <= 2.000000f)
	if(v.pz >= 2.000000f)
	if(v.pz <= 4.000000f) {
		v.px -= 1.000000f;
		v.py += room0.h + room1.h;
		v.pz -= 3.000000f;
		return room1_cast_down(v, d);
	}

	return v.py + room0.h;
}
fn void room1_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 1);
	glUniform3f(u_scale_id, room1.w, room1.h, room1.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.py < room1.h) {
		View door = View_through_uwd(v, room1.h, -1.000000f, 1.000000f, -1.000000f, 1.000000f);
		door.px -= -1.000000f;
		door.py -= room1.h + room0.h;
		door.pz -= -3.000000f;
		if(--depth) room0_render(door);
		depth++;
	}

}
fn View room1_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room1.w < v.px && v.px < room1.w
	&& -room1.h < v.py && v.py < room1.h
	&& -room1.d < v.pz && v.pz < room1.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.pz >= -1.000000f+d)
	if(v.pz <= 1.000000f-d)
	if(v.py + y > room1.h - w) {
		if(v.py + y > room1.h) {
			*r = &room0;
			v.px -= -1.000000f;
			v.py -= room1.h + room0.h;
			v.pz -= -3.000000f;
			return room0_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.pz < -1.000000f+d) v.pz = -1.000000f+d, v.vz = 0;
		if(v.pz > 1.000000f-d) v.pz = 1.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -4.000000f+d)
	if(v.px <= 4.000000f-d)
	if(v.py >= -4.000000f+d)
	if(v.py <= 4.000000f-d)
	if(v.pz + z < -room1.d + w) {
		if(v.pz + z < -room1.d) {
			*r = &room2;
			v.px -= -5.000000f;
			v.py -= 36.000000f;
			v.pz += room1.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz += room1._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -4.000000f+d) v.px = -4.000000f+d, v.vx = 0;
		if(v.px > 4.000000f-d) v.px = 4.000000f-d, v.vx = 0;
		if(v.py < -4.000000f+d) v.py = -4.000000f+d, v.vy = 0;
		if(v.py > 4.000000f-d) v.py = 4.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room1.w-w) v.px=room1.w-w, v.vx*=0;
	if(v.py > room1.h-w) v.py=room1.h-w, v.vy*=-1;
	if(v.pz > room1.d-w) v.pz=room1.d-w, v.vz*=0;
	if(v.px < w-room1.w) v.px=w-room1.w, v.vx*=0;
	if(v.py < w-room1.h) v.py=w-room1.h, v.vy*=0;
	if(v.pz < w-room1.d) v.pz=w-room1.d, v.vz*=0;
	return v;
}
fn float room1_cast_down(View v, float d) {
	if(d < v.py + room1.h) return d;

	return v.py + room1.h;
}
fn void room2_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 2);
	glUniform3f(u_scale_id, room2.w, room2.h, room2.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.py < room2.h) {
		View door = View_through_uwd(v, room2.h, -1.000000f, 1.000000f, -1.000000f, 1.000000f);
		door.px -= -3.000000f;
		door.py -= room2.h + room0.h;
		door.pz -= -3.000000f;
		if(--depth) room0_render(door);
		depth++;
	}
	if(+v.pz < room2.d) {
		View door = View_through_fwd(v, room2.d, 34.000000f, 40.000000f, -40.000000f, -34.000000f);
		door.px -= 35.000000f;
		door.py -= -35.000000f;
		door.pz -= room2.d + room4.d;
		if(--depth) room4_render(door);
		depth++;
	}
	if(+v.pz < room2.d) {
		View door = View_through_fwd(v, room2.d, 28.000000f, 34.000000f, -40.000000f, -34.000000f);
		door.px -= 31.000000f;
		door.py -= -37.000000f;
		door.pz -= room2.d + room0.d;
		if(--depth) room0_render(door);
		depth++;
	}
	if(-v.px < room2.w) {
		View door = View_through_lft(v, -room2.w, 34.000000f, 40.000000f, 34.000000f, 40.000000f);
		door.px += room2.w + room2.w;
		door.py -= 74.000000f;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.px < room2.w) {
		View door = View_through_rgt(v, room2.w, 34.000000f, 40.000000f, -40.000000f, -34.000000f);
		door.px -= room2.w + room2.w;
		door.py -= -74.000000f;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.py < room2.h) {
		View door = View_through_dwn(v, -room2.h, -40.000000f, -34.000000f, 34.000000f, 40.000000f);
		door.px -= 0.000000f;
		door.py += room2.h + room2.h;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.py < room2.h) {
		View door = View_through_uwd(v, room2.h, -40.000000f, -34.000000f, 34.000000f, 40.000000f);
		door.px -= 0.000000f;
		door.py -= room2.h + room2.h;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.pz < room2.d) {
		View door = View_through_fwd(v, room2.d, 22.000000f, 28.000000f, -40.000000f, -34.000000f);
		door.px -= 121.000000f;
		door.py -= 0.000000f;
		door.pz -= room2.d + room3.d;
		if(--depth) room3_render(door);
		depth++;
	}
	if(+v.px < room2.w) {
		View door = View_through_rgt(v, room2.w, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= room2.w + room8.w;
		door.py -= 0.000000f;
		door.pz -= 0.000000f;
		if(--depth) room8_render(door);
		depth++;
	}
	if(-v.py < room2.h) {
		View door = View_through_dwn(v, -room2.h, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py += room2.h + room8.h;
		door.pz -= 0.000000f;
		if(--depth) room8_render(door);
		depth++;
	}
	if(-v.px < room2.w) {
		View door = View_through_lft(v, -room2.w, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px += room2.w + room8.w;
		door.py -= 0.000000f;
		door.pz -= 0.000000f;
		if(--depth) room8_render(door);
		depth++;
	}
	if(-v.pz < room2.d) {
		View door = View_through_bwd(v, -room2.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room2.d + room8.d;
		if(--depth) room8_render(door);
		depth++;
	}
	if(+v.pz < room2.d) {
		View door = View_through_fwd(v, room2.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room2.d + room8.d;
		if(--depth) room8_render(door);
		depth++;
	}
	if(+v.pz < room2.d) {
		View door = View_through_fwd(v, room2.d, -1.000000f, 1.000000f, -40.000000f, -30.000000f);
		door.px -= 0.000000f;
		door.py -= -35.000000f;
		door.pz -= room2.d + room13.d;
		if(--depth) room13_render(door);
		depth++;
	}

}
fn View room2_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room2.w < v.px && v.px < room2.w
	&& -room2.h < v.py && v.py < room2.h
	&& -room2.d < v.pz && v.pz < room2.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.pz >= -1.000000f+d)
	if(v.pz <= 1.000000f-d)
	if(v.py + y > room2.h - w) {
		if(v.py + y > room2.h) {
			*r = &room0;
			v.px -= -3.000000f;
			v.py -= room2.h + room0.h;
			v.pz -= -3.000000f;
			return room0_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.pz < -1.000000f+d) v.pz = -1.000000f+d, v.vz = 0;
		if(v.pz > 1.000000f-d) v.pz = 1.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= 34.000000f+d)
	if(v.px <= 40.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.pz + z > room2.d - w) {
		if(v.pz + z > room2.d) {
			*r = &room4;
			v.px -= 35.000000f;
			v.py -= -35.000000f;
			v.pz -= room2.d + room4.d;
			v = room4_update(v, r, w, d, dt);
			v.vz -= room2._d + room4._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 34.000000f+d) v.px = 34.000000f+d, v.vx = 0;
		if(v.px > 40.000000f-d) v.px = 40.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 28.000000f+d)
	if(v.px <= 34.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.pz + z > room2.d - w) {
		if(v.pz + z > room2.d) {
			*r = &room0;
			v.px -= 31.000000f;
			v.py -= -37.000000f;
			v.pz -= room2.d + room0.d;
			v = room0_update(v, r, w, d, dt);
			v.vz -= room2._d + room0._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 28.000000f+d) v.px = 28.000000f+d, v.vx = 0;
		if(v.px > 34.000000f-d) v.px = 34.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= 34.000000f+d)
	if(v.pz <= 40.000000f-d)
	if(v.py >= 34.000000f+d)
	if(v.py <= 40.000000f-d)
	if(v.px + x < -room2.w + w) {
		if(v.px + x < -room2.w) {
			*r = &room2;
			v.px += room2.w + room2.w;
			v.py -= 74.000000f;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < 34.000000f+d) v.pz = 34.000000f+d, v.vz = 0;
		if(v.pz > 40.000000f-d) v.pz = 40.000000f-d, v.vz = 0;
		if(v.py < 34.000000f+d) v.py = 34.000000f+d, v.vy = 0;
		if(v.py > 40.000000f-d) v.py = 40.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= 34.000000f+d)
	if(v.pz <= 40.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.px + x > room2.w - w) {
		if(v.px + x > room2.w) {
			*r = &room2;
			v.px -= room2.w + room2.w;
			v.py -= -74.000000f;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < 34.000000f+d) v.pz = 34.000000f+d, v.vz = 0;
		if(v.pz > 40.000000f-d) v.pz = 40.000000f-d, v.vz = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -40.000000f+d)
	if(v.px <= -34.000000f-d)
	if(v.pz >= 34.000000f+d)
	if(v.pz <= 40.000000f-d)
	if(v.py + y < -room2.h + w) {
		if(v.py + y < -room2.h) {
			*r = &room2;
			v.px -= 0.000000f;
			v.py += room2.h + room2.h;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -40.000000f+d) v.px = -40.000000f+d, v.vx = 0;
		if(v.px > -34.000000f-d) v.px = -34.000000f-d, v.vx = 0;
		if(v.pz < 34.000000f+d) v.pz = 34.000000f+d, v.vz = 0;
		if(v.pz > 40.000000f-d) v.pz = 40.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -40.000000f+d)
	if(v.px <= -34.000000f-d)
	if(v.pz >= 34.000000f+d)
	if(v.pz <= 40.000000f-d)
	if(v.py + y > room2.h - w) {
		if(v.py + y > room2.h) {
			*r = &room2;
			v.px -= 0.000000f;
			v.py -= room2.h + room2.h;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -40.000000f+d) v.px = -40.000000f+d, v.vx = 0;
		if(v.px > -34.000000f-d) v.px = -34.000000f-d, v.vx = 0;
		if(v.pz < 34.000000f+d) v.pz = 34.000000f+d, v.vz = 0;
		if(v.pz > 40.000000f-d) v.pz = 40.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= 22.000000f+d)
	if(v.px <= 28.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.pz + z > room2.d - w) {
		if(v.pz + z > room2.d) {
			*r = &room3;
			v.px -= 121.000000f;
			v.py -= 0.000000f;
			v.pz -= room2.d + room3.d;
			v = room3_update(v, r, w, d, dt);
			v.vz -= room2._d + room3._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 22.000000f+d) v.px = 22.000000f+d, v.vx = 0;
		if(v.px > 28.000000f-d) v.px = 28.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x > room2.w - w) {
		if(v.px + x > room2.w) {
			*r = &room8;
			v.px -= room2.w + room8.w;
			v.py -= 0.000000f;
			v.pz -= 0.000000f;
			return room8_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py + y < -room2.h + w) {
		if(v.py + y < -room2.h) {
			*r = &room8;
			v.px -= 0.000000f;
			v.py += room2.h + room8.h;
			v.pz -= 0.000000f;
			return room8_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		return v;
	}
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x < -room2.w + w) {
		if(v.px + x < -room2.w) {
			*r = &room8;
			v.px += room2.w + room8.w;
			v.py -= 0.000000f;
			v.pz -= 0.000000f;
			return room8_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z < -room2.d + w) {
		if(v.pz + z < -room2.d) {
			*r = &room8;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room2.d + room8.d;
			v = room8_update(v, r, w, d, dt);
			v.vz += room2._d + room8._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z > room2.d - w) {
		if(v.pz + z > room2.d) {
			*r = &room8;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room2.d + room8.d;
			v = room8_update(v, r, w, d, dt);
			v.vz -= room2._d + room8._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 9.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -32.000000f-d)
	if(v.pz + z > room2.d - w) {
		if(v.pz + z > room2.d) {
			*r = &room1;
			v.px -= 5.000000f;
			v.py -= -36.000000f;
			v.pz -= room2.d + room1.d;
			v = room1_update(v, r, w, d, dt);
			v.vz -= room2._d + room1._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 9.000000f-d) v.px = 9.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -32.000000f-d) v.py = -32.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -30.000000f-d)
	if(v.pz + z > room2.d - w) {
		if(v.pz + z > room2.d) {
			*r = &room13;
			v.px -= 0.000000f;
			v.py -= -35.000000f;
			v.pz -= room2.d + room13.d;
			v = room13_update(v, r, w, d, dt);
			v.vz -= room2._d + room13._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -30.000000f-d) v.py = -30.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room2.w-w) v.px=room2.w-w, v.vx*=0;
	if(v.py > room2.h-w) v.py=room2.h-w, v.vy*=-1;
	if(v.pz > room2.d-w) v.pz=room2.d-w, v.vz*=0;
	if(v.px < w-room2.w) v.px=w-room2.w, v.vx*=0;
	if(v.py < w-room2.h) v.py=w-room2.h, v.vy*=0;
	if(v.pz < w-room2.d) v.pz=w-room2.d, v.vz*=0;
	return v;
}
fn float room2_cast_down(View v, float d) {
	if(d < v.py + room2.h) return d;
	if(v.px >= -40.000000f)
	if(v.px <= -34.000000f)
	if(v.pz >= 34.000000f)
	if(v.pz <= 40.000000f) {
		v.px -= 0.000000f;
		v.py += room2.h + room2.h;
		v.pz -= 0.000000f;
		return room2_cast_down(v, d);
	}
	if(v.px >= -3.000000f)
	if(v.px <= 3.000000f)
	if(v.pz >= -3.000000f)
	if(v.pz <= 3.000000f) {
		v.px -= 0.000000f;
		v.py += room2.h + room8.h;
		v.pz -= 0.000000f;
		return room8_cast_down(v, d);
	}

	return v.py + room2.h;
}
fn void room3_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 3);
	glUniform3f(u_scale_id, room3.w, room3.h, room3.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room3.d) {
		View door = View_through_bwd(v, -room3.d, -99.000000f, -93.000000f, -40.000000f, -34.000000f);
		door.px -= -121.000000f;
		door.py -= 0.000000f;
		door.pz += room3.d + room2.d;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.px < room3.w) {
		View door = View_through_lft(v, -room3.w, 2.000000f, 8.000000f, -40.000000f, -34.000000f);
		door.px += room3.w + room6.w;
		door.py -= -37.000000f;
		door.pz -= -392.000000f;
		if(--depth) room6_render(door);
		depth++;
	}
	if(-v.px < room3.w) {
		View door = View_through_lft(v, -room3.w, -8.000000f, -2.000000f, -40.000000f, -34.000000f);
		door.px += room3.w + room6.w;
		door.py -= -37.000000f;
		door.pz -= 392.000000f;
		if(--depth) room6_render(door);
		depth++;
	}
	if(+v.pz < room3.d) {
		View door = View_through_fwd(v, room3.d, -100.000000f, -94.000000f, -40.000000f, -34.000000f);
		door.px -= -91.000000f;
		door.py -= -37.000000f;
		door.pz -= room3.d + room7.d;
		if(--depth) room7_render(door);
		depth++;
	}
	if(+v.pz < room3.d) {
		View door = View_through_fwd(v, room3.d, 94.000000f, 100.000000f, -40.000000f, -34.000000f);
		door.px -= 91.000000f;
		door.py -= -37.000000f;
		door.pz -= room3.d + room7.d;
		if(--depth) room7_render(door);
		depth++;
	}

}
fn View room3_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room3.w < v.px && v.px < room3.w
	&& -room3.h < v.py && v.py < room3.h
	&& -room3.d < v.pz && v.pz < room3.d
	);
	if(v.px >= -99.000000f+d)
	if(v.px <= -93.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.pz + z < -room3.d + w) {
		if(v.pz + z < -room3.d) {
			*r = &room2;
			v.px -= -121.000000f;
			v.py -= 0.000000f;
			v.pz += room3.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz += room3._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -99.000000f+d) v.px = -99.000000f+d, v.vx = 0;
		if(v.px > -93.000000f-d) v.px = -93.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= 2.000000f+d)
	if(v.pz <= 8.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.px + x < -room3.w + w) {
		if(v.px + x < -room3.w) {
			*r = &room6;
			v.px += room3.w + room6.w;
			v.py -= -37.000000f;
			v.pz -= -392.000000f;
			return room6_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < 2.000000f+d) v.pz = 2.000000f+d, v.vz = 0;
		if(v.pz > 8.000000f-d) v.pz = 8.000000f-d, v.vz = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -8.000000f+d)
	if(v.pz <= -2.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.px + x < -room3.w + w) {
		if(v.px + x < -room3.w) {
			*r = &room6;
			v.px += room3.w + room6.w;
			v.py -= -37.000000f;
			v.pz -= 392.000000f;
			return room6_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -8.000000f+d) v.pz = -8.000000f+d, v.vz = 0;
		if(v.pz > -2.000000f-d) v.pz = -2.000000f-d, v.vz = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -100.000000f+d)
	if(v.px <= -94.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.pz + z > room3.d - w) {
		if(v.pz + z > room3.d) {
			*r = &room7;
			v.px -= -91.000000f;
			v.py -= -37.000000f;
			v.pz -= room3.d + room7.d;
			v = room7_update(v, r, w, d, dt);
			v.vz -= room3._d + room7._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -100.000000f+d) v.px = -100.000000f+d, v.vx = 0;
		if(v.px > -94.000000f-d) v.px = -94.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 94.000000f+d)
	if(v.px <= 100.000000f-d)
	if(v.py >= -40.000000f+d)
	if(v.py <= -34.000000f-d)
	if(v.pz + z > room3.d - w) {
		if(v.pz + z > room3.d) {
			*r = &room7;
			v.px -= 91.000000f;
			v.py -= -37.000000f;
			v.pz -= room3.d + room7.d;
			v = room7_update(v, r, w, d, dt);
			v.vz -= room3._d + room7._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 94.000000f+d) v.px = 94.000000f+d, v.vx = 0;
		if(v.px > 100.000000f-d) v.px = 100.000000f-d, v.vx = 0;
		if(v.py < -40.000000f+d) v.py = -40.000000f+d, v.vy = 0;
		if(v.py > -34.000000f-d) v.py = -34.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room3.w-w) v.px=room3.w-w, v.vx*=0;
	if(v.py > room3.h-w) v.py=room3.h-w, v.vy*=-1;
	if(v.pz > room3.d-w) v.pz=room3.d-w, v.vz*=0;
	if(v.px < w-room3.w) v.px=w-room3.w, v.vx*=0;
	if(v.py < w-room3.h) v.py=w-room3.h, v.vy*=0;
	if(v.pz < w-room3.d) v.pz=w-room3.d, v.vz*=0;
	return v;
}
fn float room3_cast_down(View v, float d) {
	if(d < v.py + room3.h) return d;

	return v.py + room3.h;
}
fn void room4_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 4);
	glUniform3f(u_scale_id, room4.w, room4.h, room4.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room4.d) {
		View door = View_through_bwd(v, -room4.d, -1.000000f, 5.000000f, -5.000000f, 1.000000f);
		door.px -= -35.000000f;
		door.py -= 35.000000f;
		door.pz += room4.d + room2.d;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.pz < room4.d) {
		View door = View_through_fwd(v, room4.d, -5.000000f, -3.000000f, -6.000000f, 2.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room4.d + room4.d;
		if(--depth) room4_render(door);
		depth++;
	}
	if(-v.pz < room4.d) {
		View door = View_through_bwd(v, -room4.d, -5.000000f, -3.000000f, -6.000000f, 2.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room4.d + room4.d;
		if(--depth) room4_render(door);
		depth++;
	}
	if(+v.pz < room4.d) {
		View door = View_through_fwd(v, room4.d, -3.000000f, -1.000000f, -5.000000f, -1.000000f);
		door.px -= 0.000000f;
		door.py -= -6.000000f;
		door.pz -= room4.d + room4.d;
		if(--depth) room4_render(door);
		depth++;
	}
	if(-v.pz < room4.d) {
		View door = View_through_bwd(v, -room4.d, -3.000000f, -1.000000f, 1.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 6.000000f;
		door.pz += room4.d + room4.d;
		if(--depth) room4_render(door);
		depth++;
	}
	if(+v.px < room4.w) {
		View door = View_through_rgt(v, room4.w, -4.000000f, 4.000000f, -5.000000f, -3.000000f);
		door.px -= room4.w + room0.w;
		door.py -= -1.000000f;
		door.pz -= 0.000000f;
		if(--depth) room0_render(door);
		depth++;
	}
	if(-v.px < room4.w) {
		View door = View_through_lft(v, -room4.w, -2.000000f, 2.000000f, -5.000000f, 3.000000f);
		door.px += room4.w + room5.w;
		door.py -= -1.000000f;
		door.pz -= 0.000000f;
		if(--depth) room5_render(door);
		depth++;
	}

}
fn View room4_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room4.w < v.px && v.px < room4.w
	&& -room4.h < v.py && v.py < room4.h
	&& -room4.d < v.pz && v.pz < room4.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 5.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 1.000000f-d)
	if(v.pz + z < -room4.d + w) {
		if(v.pz + z < -room4.d) {
			*r = &room2;
			v.px -= -35.000000f;
			v.py -= 35.000000f;
			v.pz += room4.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz += room4._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 5.000000f-d) v.px = 5.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 1.000000f-d) v.py = 1.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -5.000000f+d)
	if(v.px <= -3.000000f-d)
	if(v.py >= -6.000000f+d)
	if(v.py <= 2.000000f-d)
	if(v.pz + z > room4.d - w) {
		if(v.pz + z > room4.d) {
			*r = &room4;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room4.d + room4.d;
			v = room4_update(v, r, w, d, dt);
			v.vz -= room4._d + room4._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -5.000000f+d) v.px = -5.000000f+d, v.vx = 0;
		if(v.px > -3.000000f-d) v.px = -3.000000f-d, v.vx = 0;
		if(v.py < -6.000000f+d) v.py = -6.000000f+d, v.vy = 0;
		if(v.py > 2.000000f-d) v.py = 2.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -5.000000f+d)
	if(v.px <= -3.000000f-d)
	if(v.py >= -6.000000f+d)
	if(v.py <= 2.000000f-d)
	if(v.pz + z < -room4.d + w) {
		if(v.pz + z < -room4.d) {
			*r = &room4;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room4.d + room4.d;
			v = room4_update(v, r, w, d, dt);
			v.vz += room4._d + room4._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -5.000000f+d) v.px = -5.000000f+d, v.vx = 0;
		if(v.px > -3.000000f-d) v.px = -3.000000f-d, v.vx = 0;
		if(v.py < -6.000000f+d) v.py = -6.000000f+d, v.vy = 0;
		if(v.py > 2.000000f-d) v.py = 2.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= -1.000000f-d)
	if(v.pz + z > room4.d - w) {
		if(v.pz + z > room4.d) {
			*r = &room4;
			v.px -= 0.000000f;
			v.py -= -6.000000f;
			v.pz -= room4.d + room4.d;
			v = room4_update(v, r, w, d, dt);
			v.vz -= room4._d + room4._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > -1.000000f-d) v.py = -1.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= 1.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room4.d + w) {
		if(v.pz + z < -room4.d) {
			*r = &room4;
			v.px -= 0.000000f;
			v.py -= 6.000000f;
			v.pz += room4.d + room4.d;
			v = room4_update(v, r, w, d, dt);
			v.vz += room4._d + room4._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < 1.000000f+d) v.py = 1.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -4.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= -3.000000f-d)
	if(v.px + x > room4.w - w) {
		if(v.px + x > room4.w) {
			*r = &room0;
			v.px -= room4.w + room0.w;
			v.py -= -1.000000f;
			v.pz -= 0.000000f;
			return room0_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -4.000000f+d) v.pz = -4.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > -3.000000f-d) v.py = -3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -2.000000f+d)
	if(v.pz <= 2.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x < -room4.w + w) {
		if(v.px + x < -room4.w) {
			*r = &room5;
			v.px += room4.w + room5.w;
			v.py -= -1.000000f;
			v.pz -= 0.000000f;
			return room5_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -2.000000f+d) v.pz = -2.000000f+d, v.vz = 0;
		if(v.pz > 2.000000f-d) v.pz = 2.000000f-d, v.vz = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room4.w-w) v.px=room4.w-w, v.vx*=0;
	if(v.py > room4.h-w) v.py=room4.h-w, v.vy*=-1;
	if(v.pz > room4.d-w) v.pz=room4.d-w, v.vz*=0;
	if(v.px < w-room4.w) v.px=w-room4.w, v.vx*=0;
	if(v.py < w-room4.h) v.py=w-room4.h, v.vy*=0;
	if(v.pz < w-room4.d) v.pz=w-room4.d, v.vz*=0;
	return v;
}
fn float room4_cast_down(View v, float d) {
	if(d < v.py + room4.h) return d;

	return v.py + room4.h;
}
fn void room5_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 5);
	glUniform3f(u_scale_id, room5.w, room5.h, room5.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.px < room5.w) {
		View door = View_through_rgt(v, room5.w, -2.000000f, 2.000000f, -4.000000f, 4.000000f);
		door.px -= room5.w + room4.w;
		door.py -= 1.000000f;
		door.pz -= 0.000000f;
		if(--depth) room4_render(door);
		depth++;
	}
	if(-v.py < room5.h) {
		View door = View_through_dwn(v, -room5.h, -4.000000f, 4.000000f, -4.000000f, 4.000000f);
		door.px -= 0.000000f;
		door.py += room5.h + room0.h;
		door.pz -= 0.000000f;
		if(--depth) room0_render(door);
		depth++;
	}
	if(+v.pz < room5.d) {
		View door = View_through_fwd(v, room5.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room5.d + room7.d;
		if(--depth) room7_render(door);
		depth++;
	}

}
fn View room5_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room5.w < v.px && v.px < room5.w
	&& -room5.h < v.py && v.py < room5.h
	&& -room5.d < v.pz && v.pz < room5.d
	);
	if(v.pz >= -2.000000f+d)
	if(v.pz <= 2.000000f-d)
	if(v.py >= -4.000000f+d)
	if(v.py <= 4.000000f-d)
	if(v.px + x > room5.w - w) {
		if(v.px + x > room5.w) {
			*r = &room4;
			v.px -= room5.w + room4.w;
			v.py -= 1.000000f;
			v.pz -= 0.000000f;
			return room4_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -2.000000f+d) v.pz = -2.000000f+d, v.vz = 0;
		if(v.pz > 2.000000f-d) v.pz = 2.000000f-d, v.vz = 0;
		if(v.py < -4.000000f+d) v.py = -4.000000f+d, v.vy = 0;
		if(v.py > 4.000000f-d) v.py = 4.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -4.000000f+d)
	if(v.px <= 4.000000f-d)
	if(v.pz >= -4.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py + y < -room5.h + w) {
		if(v.py + y < -room5.h) {
			*r = &room0;
			v.px -= 0.000000f;
			v.py += room5.h + room0.h;
			v.pz -= 0.000000f;
			return room0_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -4.000000f+d) v.px = -4.000000f+d, v.vx = 0;
		if(v.px > 4.000000f-d) v.px = 4.000000f-d, v.vx = 0;
		if(v.pz < -4.000000f+d) v.pz = -4.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z > room5.d - w) {
		if(v.pz + z > room5.d) {
			*r = &room7;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room5.d + room7.d;
			v = room7_update(v, r, w, d, dt);
			v.vz -= room5._d + room7._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room5.w-w) v.px=room5.w-w, v.vx*=0;
	if(v.py > room5.h-w) v.py=room5.h-w, v.vy*=-1;
	if(v.pz > room5.d-w) v.pz=room5.d-w, v.vz*=0;
	if(v.px < w-room5.w) v.px=w-room5.w, v.vx*=0;
	if(v.py < w-room5.h) v.py=w-room5.h, v.vy*=0;
	if(v.pz < w-room5.d) v.pz=w-room5.d, v.vz*=0;
	return v;
}
fn float room5_cast_down(View v, float d) {
	if(d < v.py + room5.h) return d;
	if(v.px >= -4.000000f)
	if(v.px <= 4.000000f)
	if(v.pz >= -4.000000f)
	if(v.pz <= 4.000000f) {
		v.px -= 0.000000f;
		v.py += room5.h + room0.h;
		v.pz -= 0.000000f;
		return room0_cast_down(v, d);
	}

	return v.py + room5.h;
}
fn void room6_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 6);
	glUniform3f(u_scale_id, room6.w, room6.h, room6.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.px < room6.w) {
		View door = View_through_rgt(v, room6.w, 394.000000f, 400.000000f, -3.000000f, 3.000000f);
		door.px -= room6.w + room3.w;
		door.py -= 37.000000f;
		door.pz -= 392.000000f;
		if(--depth) room3_render(door);
		depth++;
	}
	if(+v.px < room6.w) {
		View door = View_through_rgt(v, room6.w, -400.000000f, -394.000000f, -3.000000f, 3.000000f);
		door.px -= room6.w + room3.w;
		door.py -= 37.000000f;
		door.pz -= -392.000000f;
		if(--depth) room3_render(door);
		depth++;
	}

}
fn View room6_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room6.w < v.px && v.px < room6.w
	&& -room6.h < v.py && v.py < room6.h
	&& -room6.d < v.pz && v.pz < room6.d
	);
	if(v.pz >= 394.000000f+d)
	if(v.pz <= 400.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x > room6.w - w) {
		if(v.px + x > room6.w) {
			*r = &room3;
			v.px -= room6.w + room3.w;
			v.py -= 37.000000f;
			v.pz -= 392.000000f;
			return room3_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < 394.000000f+d) v.pz = 394.000000f+d, v.vz = 0;
		if(v.pz > 400.000000f-d) v.pz = 400.000000f-d, v.vz = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.pz >= -400.000000f+d)
	if(v.pz <= -394.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x > room6.w - w) {
		if(v.px + x > room6.w) {
			*r = &room3;
			v.px -= room6.w + room3.w;
			v.py -= 37.000000f;
			v.pz -= -392.000000f;
			return room3_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -400.000000f+d) v.pz = -400.000000f+d, v.vz = 0;
		if(v.pz > -394.000000f-d) v.pz = -394.000000f-d, v.vz = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room6.w-w) v.px=room6.w-w, v.vx*=0;
	if(v.py > room6.h-w) v.py=room6.h-w, v.vy*=-1;
	if(v.pz > room6.d-w) v.pz=room6.d-w, v.vz*=0;
	if(v.px < w-room6.w) v.px=w-room6.w, v.vx*=0;
	if(v.py < w-room6.h) v.py=w-room6.h, v.vy*=0;
	if(v.pz < w-room6.d) v.pz=w-room6.d, v.vz*=0;
	return v;
}
fn float room6_cast_down(View v, float d) {
	if(d < v.py + room6.h) return d;

	return v.py + room6.h;
}
fn void room7_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 7);
	glUniform3f(u_scale_id, room7.w, room7.h, room7.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room7.d) {
		View door = View_through_bwd(v, -room7.d, -9.000000f, -3.000000f, -3.000000f, 3.000000f);
		door.px -= 91.000000f;
		door.py -= 37.000000f;
		door.pz += room7.d + room3.d;
		if(--depth) room3_render(door);
		depth++;
	}
	if(-v.pz < room7.d) {
		View door = View_through_bwd(v, -room7.d, 3.000000f, 9.000000f, -3.000000f, 3.000000f);
		door.px -= -91.000000f;
		door.py -= 37.000000f;
		door.pz += room7.d + room3.d;
		if(--depth) room3_render(door);
		depth++;
	}
	if(-v.pz < room7.d) {
		View door = View_through_bwd(v, -room7.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room7.d + room5.d;
		if(--depth) room5_render(door);
		depth++;
	}
	if(+v.pz < room7.d) {
		View door = View_through_fwd(v, room7.d, -3.000000f, 3.000000f, -3.000000f, -1.000000f);
		door.px -= 0.000000f;
		door.py -= -2.000000f;
		door.pz -= room7.d + room9.d;
		if(--depth) room9_render(door);
		depth++;
	}

}
fn View room7_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room7.w < v.px && v.px < room7.w
	&& -room7.h < v.py && v.py < room7.h
	&& -room7.d < v.pz && v.pz < room7.d
	);
	if(v.px >= -9.000000f+d)
	if(v.px <= -3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z < -room7.d + w) {
		if(v.pz + z < -room7.d) {
			*r = &room3;
			v.px -= 91.000000f;
			v.py -= 37.000000f;
			v.pz += room7.d + room3.d;
			v = room3_update(v, r, w, d, dt);
			v.vz += room7._d + room3._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -9.000000f+d) v.px = -9.000000f+d, v.vx = 0;
		if(v.px > -3.000000f-d) v.px = -3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 3.000000f+d)
	if(v.px <= 9.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z < -room7.d + w) {
		if(v.pz + z < -room7.d) {
			*r = &room3;
			v.px -= -91.000000f;
			v.py -= 37.000000f;
			v.pz += room7.d + room3.d;
			v = room3_update(v, r, w, d, dt);
			v.vz += room7._d + room3._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 3.000000f+d) v.px = 3.000000f+d, v.vx = 0;
		if(v.px > 9.000000f-d) v.px = 9.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z < -room7.d + w) {
		if(v.pz + z < -room7.d) {
			*r = &room5;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room7.d + room5.d;
			v = room5_update(v, r, w, d, dt);
			v.vz += room7._d + room5._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= -1.000000f-d)
	if(v.pz + z > room7.d - w) {
		if(v.pz + z > room7.d) {
			*r = &room9;
			v.px -= 0.000000f;
			v.py -= -2.000000f;
			v.pz -= room7.d + room9.d;
			v = room9_update(v, r, w, d, dt);
			v.vz -= room7._d + room9._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > -1.000000f-d) v.py = -1.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room7.w-w) v.px=room7.w-w, v.vx*=0;
	if(v.py > room7.h-w) v.py=room7.h-w, v.vy*=-1;
	if(v.pz > room7.d-w) v.pz=room7.d-w, v.vz*=0;
	if(v.px < w-room7.w) v.px=w-room7.w, v.vx*=0;
	if(v.py < w-room7.h) v.py=w-room7.h, v.vy*=0;
	if(v.pz < w-room7.d) v.pz=w-room7.d, v.vz*=0;
	return v;
}
fn float room7_cast_down(View v, float d) {
	if(d < v.py + room7.h) return d;

	return v.py + room7.h;
}
fn void room8_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 8);
	glUniform3f(u_scale_id, room8.w, room8.h, room8.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.px < room8.w) {
		View door = View_through_lft(v, -room8.w, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px += room8.w + room2.w;
		door.py -= 0.000000f;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.py < room8.h) {
		View door = View_through_uwd(v, room8.h, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= room8.h + room2.h;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.px < room8.w) {
		View door = View_through_rgt(v, room8.w, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= room8.w + room2.w;
		door.py -= 0.000000f;
		door.pz -= 0.000000f;
		if(--depth) room2_render(door);
		depth++;
	}
	if(+v.pz < room8.d) {
		View door = View_through_fwd(v, room8.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room8.d + room2.d;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.pz < room8.d) {
		View door = View_through_bwd(v, -room8.d, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room8.d + room2.d;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.py < room8.h) {
		View door = View_through_dwn(v, -room8.h, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py += room8.h + room9.h;
		door.pz -= 0.000000f;
		if(--depth) room9_render(door);
		depth++;
	}

}
fn View room8_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room8.w < v.px && v.px < room8.w
	&& -room8.h < v.py && v.py < room8.h
	&& -room8.d < v.pz && v.pz < room8.d
	);
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x < -room8.w + w) {
		if(v.px + x < -room8.w) {
			*r = &room2;
			v.px += room8.w + room2.w;
			v.py -= 0.000000f;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py + y > room8.h - w) {
		if(v.py + y > room8.h) {
			*r = &room2;
			v.px -= 0.000000f;
			v.py -= room8.h + room2.h;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		return v;
	}
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.px + x > room8.w - w) {
		if(v.px + x > room8.w) {
			*r = &room2;
			v.px -= room8.w + room2.w;
			v.py -= 0.000000f;
			v.pz -= 0.000000f;
			return room2_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z > room8.d - w) {
		if(v.pz + z > room8.d) {
			*r = &room2;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room8.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz -= room8._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -3.000000f+d)
	if(v.py <= 3.000000f-d)
	if(v.pz + z < -room8.d + w) {
		if(v.pz + z < -room8.d) {
			*r = &room2;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room8.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz += room8._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -3.000000f+d) v.py = -3.000000f+d, v.vy = 0;
		if(v.py > 3.000000f-d) v.py = 3.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py + y < -room8.h + w) {
		if(v.py + y < -room8.h) {
			*r = &room9;
			v.px -= 0.000000f;
			v.py += room8.h + room9.h;
			v.pz -= 0.000000f;
			return room9_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room8.w-w) v.px=room8.w-w, v.vx*=0;
	if(v.py > room8.h-w) v.py=room8.h-w, v.vy*=-1;
	if(v.pz > room8.d-w) v.pz=room8.d-w, v.vz*=0;
	if(v.px < w-room8.w) v.px=w-room8.w, v.vx*=0;
	if(v.py < w-room8.h) v.py=w-room8.h, v.vy*=0;
	if(v.pz < w-room8.d) v.pz=w-room8.d, v.vz*=0;
	return v;
}
fn float room8_cast_down(View v, float d) {
	if(d < v.py + room8.h) return d;
	if(v.px >= -3.000000f)
	if(v.px <= 3.000000f)
	if(v.pz >= -3.000000f)
	if(v.pz <= 3.000000f) {
		v.px -= 0.000000f;
		v.py += room8.h + room9.h;
		v.pz -= 0.000000f;
		return room9_cast_down(v, d);
	}

	return v.py + room8.h;
}
fn void room9_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 9);
	glUniform3f(u_scale_id, room9.w, room9.h, room9.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.px < room9.w) {
		View door = View_through_lft(v, -room9.w, -4.000000f, 4.000000f, -1.000000f, 1.000000f);
		door.px += room9.w + room0.w;
		door.py -= 3.000000f;
		door.pz -= 0.000000f;
		if(--depth) room0_render(door);
		depth++;
	}
	if(+v.py < room9.h) {
		View door = View_through_uwd(v, room9.h, -3.000000f, 3.000000f, -3.000000f, 3.000000f);
		door.px -= 0.000000f;
		door.py -= room9.h + room8.h;
		door.pz -= 0.000000f;
		if(--depth) room8_render(door);
		depth++;
	}
	if(-v.pz < room9.d) {
		View door = View_through_bwd(v, -room9.d, -3.000000f, 3.000000f, -1.000000f, 1.000000f);
		door.px -= 0.000000f;
		door.py -= 2.000000f;
		door.pz += room9.d + room7.d;
		if(--depth) room7_render(door);
		depth++;
	}

}
fn View room9_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room9.w < v.px && v.px < room9.w
	&& -room9.h < v.py && v.py < room9.h
	&& -room9.d < v.pz && v.pz < room9.d
	);
	if(v.pz >= -4.000000f+d)
	if(v.pz <= 4.000000f-d)
	if(v.py >= -1.000000f+d)
	if(v.py <= 1.000000f-d)
	if(v.px + x < -room9.w + w) {
		if(v.px + x < -room9.w) {
			*r = &room0;
			v.px += room9.w + room0.w;
			v.py -= 3.000000f;
			v.pz -= 0.000000f;
			return room0_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.pz < -4.000000f+d) v.pz = -4.000000f+d, v.vz = 0;
		if(v.pz > 4.000000f-d) v.pz = 4.000000f-d, v.vz = 0;
		if(v.py < -1.000000f+d) v.py = -1.000000f+d, v.vy = 0;
		if(v.py > 1.000000f-d) v.py = 1.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.pz >= -3.000000f+d)
	if(v.pz <= 3.000000f-d)
	if(v.py + y > room9.h - w) {
		if(v.py + y > room9.h) {
			*r = &room8;
			v.px -= 0.000000f;
			v.py -= room9.h + room8.h;
			v.pz -= 0.000000f;
			return room8_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.pz < -3.000000f+d) v.pz = -3.000000f+d, v.vz = 0;
		if(v.pz > 3.000000f-d) v.pz = 3.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -3.000000f+d)
	if(v.px <= 3.000000f-d)
	if(v.py >= -1.000000f+d)
	if(v.py <= 1.000000f-d)
	if(v.pz + z < -room9.d + w) {
		if(v.pz + z < -room9.d) {
			*r = &room7;
			v.px -= 0.000000f;
			v.py -= 2.000000f;
			v.pz += room9.d + room7.d;
			v = room7_update(v, r, w, d, dt);
			v.vz += room9._d + room7._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -3.000000f+d) v.px = -3.000000f+d, v.vx = 0;
		if(v.px > 3.000000f-d) v.px = 3.000000f-d, v.vx = 0;
		if(v.py < -1.000000f+d) v.py = -1.000000f+d, v.vy = 0;
		if(v.py > 1.000000f-d) v.py = 1.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room9.w-w) v.px=room9.w-w, v.vx*=0;
	if(v.py > room9.h-w) v.py=room9.h-w, v.vy*=-1;
	if(v.pz > room9.d-w) v.pz=room9.d-w, v.vz*=0;
	if(v.px < w-room9.w) v.px=w-room9.w, v.vx*=0;
	if(v.py < w-room9.h) v.py=w-room9.h, v.vy*=0;
	if(v.pz < w-room9.d) v.pz=w-room9.d, v.vz*=0;
	return v;
}
fn float room9_cast_down(View v, float d) {
	if(d < v.py + room9.h) return d;

	return v.py + room9.h;
}
fn void room10_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 10);
	glUniform3f(u_scale_id, room10.w, room10.h, room10.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.pz < room10.d) {
		View door = View_through_fwd(v, room10.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room10.d + room14.d;
		if(--depth) room14_render(door);
		depth++;
	}
	if(+v.pz < room10.d) {
		View door = View_through_fwd(v, room10.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room10.d + room13.d;
		if(--depth) room13_render(door);
		depth++;
	}
	if(+v.pz < room10.d) {
		View door = View_through_fwd(v, room10.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room10.d + room13.d;
		if(--depth) room13_render(door);
		depth++;
	}

}
fn View room10_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room10.w < v.px && v.px < room10.w
	&& -room10.h < v.py && v.py < room10.h
	&& -room10.d < v.pz && v.pz < room10.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room10.d - w) {
		if(v.pz + z > room10.d) {
			*r = &room14;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room10.d + room14.d;
			v = room14_update(v, r, w, d, dt);
			v.vz -= room10._d + room14._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room10.d - w) {
		if(v.pz + z > room10.d) {
			*r = &room13;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room10.d + room13.d;
			v = room13_update(v, r, w, d, dt);
			v.vz -= room10._d + room13._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room10.d - w) {
		if(v.pz + z > room10.d) {
			*r = &room13;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room10.d + room13.d;
			v = room13_update(v, r, w, d, dt);
			v.vz -= room10._d + room13._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room10.w-w) v.px=room10.w-w, v.vx*=0;
	if(v.py > room10.h-w) v.py=room10.h-w, v.vy*=-1;
	if(v.pz > room10.d-w) v.pz=room10.d-w, v.vz*=0;
	if(v.px < w-room10.w) v.px=w-room10.w, v.vx*=0;
	if(v.py < w-room10.h) v.py=w-room10.h, v.vy*=0;
	if(v.pz < w-room10.d) v.pz=w-room10.d, v.vz*=0;
	return v;
}
fn float room10_cast_down(View v, float d) {
	if(d < v.py + room10.h) return d;

	return v.py + room10.h;
}
fn void room11_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 11);
	glUniform3f(u_scale_id, room11.w, room11.h, room11.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.pz < room11.d) {
		View door = View_through_fwd(v, room11.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room11.d + room15.d;
		if(--depth) room15_render(door);
		depth++;
	}
	if(+v.pz < room11.d) {
		View door = View_through_fwd(v, room11.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room11.d + room14.d;
		if(--depth) room14_render(door);
		depth++;
	}
	if(+v.pz < room11.d) {
		View door = View_through_fwd(v, room11.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room11.d + room14.d;
		if(--depth) room14_render(door);
		depth++;
	}

}
fn View room11_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room11.w < v.px && v.px < room11.w
	&& -room11.h < v.py && v.py < room11.h
	&& -room11.d < v.pz && v.pz < room11.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room11.d - w) {
		if(v.pz + z > room11.d) {
			*r = &room15;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room11.d + room15.d;
			v = room15_update(v, r, w, d, dt);
			v.vz -= room11._d + room15._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room11.d - w) {
		if(v.pz + z > room11.d) {
			*r = &room14;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room11.d + room14.d;
			v = room14_update(v, r, w, d, dt);
			v.vz -= room11._d + room14._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room11.d - w) {
		if(v.pz + z > room11.d) {
			*r = &room14;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room11.d + room14.d;
			v = room14_update(v, r, w, d, dt);
			v.vz -= room11._d + room14._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room11.w-w) v.px=room11.w-w, v.vx*=0;
	if(v.py > room11.h-w) v.py=room11.h-w, v.vy*=-1;
	if(v.pz > room11.d-w) v.pz=room11.d-w, v.vz*=0;
	if(v.px < w-room11.w) v.px=w-room11.w, v.vx*=0;
	if(v.py < w-room11.h) v.py=w-room11.h, v.vy*=0;
	if(v.pz < w-room11.d) v.pz=w-room11.d, v.vz*=0;
	return v;
}
fn float room11_cast_down(View v, float d) {
	if(d < v.py + room11.h) return d;

	return v.py + room11.h;
}
fn void room12_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 12);
	glUniform3f(u_scale_id, room12.w, room12.h, room12.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.pz < room12.d) {
		View door = View_through_fwd(v, room12.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room12.d + room16.d;
		if(--depth) room16_render(door);
		depth++;
	}
	if(+v.pz < room12.d) {
		View door = View_through_fwd(v, room12.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room12.d + room15.d;
		if(--depth) room15_render(door);
		depth++;
	}
	if(+v.pz < room12.d) {
		View door = View_through_fwd(v, room12.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz -= room12.d + room15.d;
		if(--depth) room15_render(door);
		depth++;
	}

}
fn View room12_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room12.w < v.px && v.px < room12.w
	&& -room12.h < v.py && v.py < room12.h
	&& -room12.d < v.pz && v.pz < room12.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room12.d - w) {
		if(v.pz + z > room12.d) {
			*r = &room16;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room12.d + room16.d;
			v = room16_update(v, r, w, d, dt);
			v.vz -= room12._d + room16._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room12.d - w) {
		if(v.pz + z > room12.d) {
			*r = &room15;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room12.d + room15.d;
			v = room15_update(v, r, w, d, dt);
			v.vz -= room12._d + room15._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room12.d - w) {
		if(v.pz + z > room12.d) {
			*r = &room15;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz -= room12.d + room15.d;
			v = room15_update(v, r, w, d, dt);
			v.vz -= room12._d + room15._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room12.w-w) v.px=room12.w-w, v.vx*=0;
	if(v.py > room12.h-w) v.py=room12.h-w, v.vy*=-1;
	if(v.pz > room12.d-w) v.pz=room12.d-w, v.vz*=0;
	if(v.px < w-room12.w) v.px=w-room12.w, v.vx*=0;
	if(v.py < w-room12.h) v.py=w-room12.h, v.vy*=0;
	if(v.pz < w-room12.d) v.pz=w-room12.d, v.vz*=0;
	return v;
}
fn float room12_cast_down(View v, float d) {
	if(d < v.py + room12.h) return d;

	return v.py + room12.h;
}
fn void room13_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 13);
	glUniform3f(u_scale_id, room13.w, room13.h, room13.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room13.d) {
		View door = View_through_bwd(v, -room13.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 35.000000f;
		door.pz += room13.d + room2.d;
		if(--depth) room2_render(door);
		depth++;
	}
	if(-v.pz < room13.d) {
		View door = View_through_bwd(v, -room13.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room13.d + room10.d;
		if(--depth) room10_render(door);
		depth++;
	}
	if(-v.pz < room13.d) {
		View door = View_through_bwd(v, -room13.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room13.d + room10.d;
		if(--depth) room10_render(door);
		depth++;
	}

}
fn View room13_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room13.w < v.px && v.px < room13.w
	&& -room13.h < v.py && v.py < room13.h
	&& -room13.d < v.pz && v.pz < room13.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room13.d + w) {
		if(v.pz + z < -room13.d) {
			*r = &room2;
			v.px -= 0.000000f;
			v.py -= 35.000000f;
			v.pz += room13.d + room2.d;
			v = room2_update(v, r, w, d, dt);
			v.vz += room13._d + room2._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room13.d + w) {
		if(v.pz + z < -room13.d) {
			*r = &room10;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room13.d + room10.d;
			v = room10_update(v, r, w, d, dt);
			v.vz += room13._d + room10._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room13.d + w) {
		if(v.pz + z < -room13.d) {
			*r = &room10;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room13.d + room10.d;
			v = room10_update(v, r, w, d, dt);
			v.vz += room13._d + room10._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room13.w-w) v.px=room13.w-w, v.vx*=0;
	if(v.py > room13.h-w) v.py=room13.h-w, v.vy*=-1;
	if(v.pz > room13.d-w) v.pz=room13.d-w, v.vz*=0;
	if(v.px < w-room13.w) v.px=w-room13.w, v.vx*=0;
	if(v.py < w-room13.h) v.py=w-room13.h, v.vy*=0;
	if(v.pz < w-room13.d) v.pz=w-room13.d, v.vz*=0;
	return v;
}
fn float room13_cast_down(View v, float d) {
	if(d < v.py + room13.h) return d;

	return v.py + room13.h;
}
fn void room14_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 14);
	glUniform3f(u_scale_id, room14.w, room14.h, room14.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room14.d) {
		View door = View_through_bwd(v, -room14.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room14.d + room10.d;
		if(--depth) room10_render(door);
		depth++;
	}
	if(-v.pz < room14.d) {
		View door = View_through_bwd(v, -room14.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room14.d + room11.d;
		if(--depth) room11_render(door);
		depth++;
	}
	if(-v.pz < room14.d) {
		View door = View_through_bwd(v, -room14.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room14.d + room11.d;
		if(--depth) room11_render(door);
		depth++;
	}

}
fn View room14_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room14.w < v.px && v.px < room14.w
	&& -room14.h < v.py && v.py < room14.h
	&& -room14.d < v.pz && v.pz < room14.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room14.d + w) {
		if(v.pz + z < -room14.d) {
			*r = &room10;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room14.d + room10.d;
			v = room10_update(v, r, w, d, dt);
			v.vz += room14._d + room10._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room14.d + w) {
		if(v.pz + z < -room14.d) {
			*r = &room11;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room14.d + room11.d;
			v = room11_update(v, r, w, d, dt);
			v.vz += room14._d + room11._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room14.d + w) {
		if(v.pz + z < -room14.d) {
			*r = &room11;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room14.d + room11.d;
			v = room11_update(v, r, w, d, dt);
			v.vz += room14._d + room11._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room14.w-w) v.px=room14.w-w, v.vx*=0;
	if(v.py > room14.h-w) v.py=room14.h-w, v.vy*=-1;
	if(v.pz > room14.d-w) v.pz=room14.d-w, v.vz*=0;
	if(v.px < w-room14.w) v.px=w-room14.w, v.vx*=0;
	if(v.py < w-room14.h) v.py=w-room14.h, v.vy*=0;
	if(v.pz < w-room14.d) v.pz=w-room14.d, v.vz*=0;
	return v;
}
fn float room14_cast_down(View v, float d) {
	if(d < v.py + room14.h) return d;

	return v.py + room14.h;
}
fn void room15_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 15);
	glUniform3f(u_scale_id, room15.w, room15.h, room15.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room15.d) {
		View door = View_through_bwd(v, -room15.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room15.d + room11.d;
		if(--depth) room11_render(door);
		depth++;
	}
	if(-v.pz < room15.d) {
		View door = View_through_bwd(v, -room15.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room15.d + room12.d;
		if(--depth) room12_render(door);
		depth++;
	}
	if(-v.pz < room15.d) {
		View door = View_through_bwd(v, -room15.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room15.d + room12.d;
		if(--depth) room12_render(door);
		depth++;
	}

}
fn View room15_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room15.w < v.px && v.px < room15.w
	&& -room15.h < v.py && v.py < room15.h
	&& -room15.d < v.pz && v.pz < room15.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room15.d + w) {
		if(v.pz + z < -room15.d) {
			*r = &room11;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room15.d + room11.d;
			v = room11_update(v, r, w, d, dt);
			v.vz += room15._d + room11._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room15.d + w) {
		if(v.pz + z < -room15.d) {
			*r = &room12;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room15.d + room12.d;
			v = room12_update(v, r, w, d, dt);
			v.vz += room15._d + room12._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room15.d + w) {
		if(v.pz + z < -room15.d) {
			*r = &room12;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room15.d + room12.d;
			v = room12_update(v, r, w, d, dt);
			v.vz += room15._d + room12._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room15.w-w) v.px=room15.w-w, v.vx*=0;
	if(v.py > room15.h-w) v.py=room15.h-w, v.vy*=-1;
	if(v.pz > room15.d-w) v.pz=room15.d-w, v.vz*=0;
	if(v.px < w-room15.w) v.px=w-room15.w, v.vx*=0;
	if(v.py < w-room15.h) v.py=w-room15.h, v.vy*=0;
	if(v.pz < w-room15.d) v.pz=w-room15.d, v.vz*=0;
	return v;
}
fn float room15_cast_down(View v, float d) {
	if(d < v.py + room15.h) return d;

	return v.py + room15.h;
}
fn void room16_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 16);
	glUniform3f(u_scale_id, room16.w, room16.h, room16.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room16.d) {
		View door = View_through_bwd(v, -room16.d, -1.000000f, 1.000000f, -5.000000f, 5.000000f);
		door.px -= 0.000000f;
		door.py -= 0.000000f;
		door.pz += room16.d + room12.d;
		if(--depth) room12_render(door);
		depth++;
	}
	if(-v.pz < room16.d) {
		View door = View_through_bwd(v, -room16.d, -11.000000f, -1.000000f, -5.000000f, 5.000000f);
		door.px -= -1.000000f;
		door.py -= 0.000000f;
		door.pz += room16.d + room17.d;
		if(--depth) room17_render(door);
		depth++;
	}
	if(-v.pz < room16.d) {
		View door = View_through_bwd(v, -room16.d, 1.000000f, 11.000000f, -5.000000f, 5.000000f);
		door.px -= 1.000000f;
		door.py -= 0.000000f;
		door.pz += room16.d + room17.d;
		if(--depth) room17_render(door);
		depth++;
	}

}
fn View room16_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room16.w < v.px && v.px < room16.w
	&& -room16.h < v.py && v.py < room16.h
	&& -room16.d < v.pz && v.pz < room16.d
	);
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room16.d + w) {
		if(v.pz + z < -room16.d) {
			*r = &room12;
			v.px -= 0.000000f;
			v.py -= 0.000000f;
			v.pz += room16.d + room12.d;
			v = room12_update(v, r, w, d, dt);
			v.vz += room16._d + room12._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -11.000000f+d)
	if(v.px <= -1.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room16.d + w) {
		if(v.pz + z < -room16.d) {
			*r = &room17;
			v.px -= -1.000000f;
			v.py -= 0.000000f;
			v.pz += room16.d + room17.d;
			v = room17_update(v, r, w, d, dt);
			v.vz += room16._d + room17._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -11.000000f+d) v.px = -11.000000f+d, v.vx = 0;
		if(v.px > -1.000000f-d) v.px = -1.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 1.000000f+d)
	if(v.px <= 11.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z < -room16.d + w) {
		if(v.pz + z < -room16.d) {
			*r = &room17;
			v.px -= 1.000000f;
			v.py -= 0.000000f;
			v.pz += room16.d + room17.d;
			v = room17_update(v, r, w, d, dt);
			v.vz += room16._d + room17._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 1.000000f+d) v.px = 1.000000f+d, v.vx = 0;
		if(v.px > 11.000000f-d) v.px = 11.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room16.w-w) v.px=room16.w-w, v.vx*=0;
	if(v.py > room16.h-w) v.py=room16.h-w, v.vy*=-1;
	if(v.pz > room16.d-w) v.pz=room16.d-w, v.vz*=0;
	if(v.px < w-room16.w) v.px=w-room16.w, v.vx*=0;
	if(v.py < w-room16.h) v.py=w-room16.h, v.vy*=0;
	if(v.pz < w-room16.d) v.pz=w-room16.d, v.vz*=0;
	return v;
}
fn float room16_cast_down(View v, float d) {
	if(d < v.py + room16.h) return d;

	return v.py + room16.h;
}
fn void room17_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 17);
	glUniform3f(u_scale_id, room17.w, room17.h, room17.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.pz < room17.d) {
		View door = View_through_fwd(v, room17.d, -10.000000f, 0.000000f, -5.000000f, 5.000000f);
		door.px -= 1.000000f;
		door.py -= 0.000000f;
		door.pz -= room17.d + room16.d;
		if(--depth) room16_render(door);
		depth++;
	}
	if(+v.pz < room17.d) {
		View door = View_through_fwd(v, room17.d, 0.000000f, 10.000000f, -5.000000f, 5.000000f);
		door.px -= -1.000000f;
		door.py -= 0.000000f;
		door.pz -= room17.d + room16.d;
		if(--depth) room16_render(door);
		depth++;
	}
	if(-v.py < room17.h) {
		View door = View_through_dwn(v, -room17.h, -10.000000f, 10.000000f, -100.000000f, -80.000000f);
		door.px -= 0.000000f;
		door.py += room17.h + room18.h;
		door.pz -= -90.000000f;
		if(--depth) room18_render(door);
		depth++;
	}
	if(+v.py < room17.h) {
		View door = View_through_uwd(v, room17.h, -10.000000f, 10.000000f, -100.000000f, -80.000000f);
		door.px -= 0.000000f;
		door.py -= room17.h + room18.h;
		door.pz -= -90.000000f;
		if(--depth) room18_render(door);
		depth++;
	}
	if(+v.py < room17.h) {
		View door = View_through_uwd(v, room17.h, -1.000000f, 1.000000f, -1.000000f, 1.000000f);
		door.px -= -9.000000f;
		door.py -= room17.h + room19.h;
		door.pz -= -9.000000f;
		if(--depth) room19_render(door);
		depth++;
	}

}
fn View room17_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room17.w < v.px && v.px < room17.w
	&& -room17.h < v.py && v.py < room17.h
	&& -room17.d < v.pz && v.pz < room17.d
	);
	if(v.px >= -10.000000f+d)
	if(v.px <= 0.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room17.d - w) {
		if(v.pz + z > room17.d) {
			*r = &room16;
			v.px -= 1.000000f;
			v.py -= 0.000000f;
			v.pz -= room17.d + room16.d;
			v = room16_update(v, r, w, d, dt);
			v.vz -= room17._d + room16._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 0.000000f-d) v.px = 0.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 0.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.py >= -5.000000f+d)
	if(v.py <= 5.000000f-d)
	if(v.pz + z > room17.d - w) {
		if(v.pz + z > room17.d) {
			*r = &room16;
			v.px -= -1.000000f;
			v.py -= 0.000000f;
			v.pz -= room17.d + room16.d;
			v = room16_update(v, r, w, d, dt);
			v.vz -= room17._d + room16._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 0.000000f+d) v.px = 0.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.py < -5.000000f+d) v.py = -5.000000f+d, v.vy = 0;
		if(v.py > 5.000000f-d) v.py = 5.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= -10.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.pz >= -100.000000f+d)
	if(v.pz <= -80.000000f-d)
	if(v.py + y < -room17.h + w) {
		if(v.py + y < -room17.h) {
			*r = &room18;
			v.px -= 0.000000f;
			v.py += room17.h + room18.h;
			v.pz -= -90.000000f;
			return room18_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.pz < -100.000000f+d) v.pz = -100.000000f+d, v.vz = 0;
		if(v.pz > -80.000000f-d) v.pz = -80.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -10.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.pz >= -100.000000f+d)
	if(v.pz <= -80.000000f-d)
	if(v.py + y > room17.h - w) {
		if(v.py + y > room17.h) {
			*r = &room18;
			v.px -= 0.000000f;
			v.py -= room17.h + room18.h;
			v.pz -= -90.000000f;
			return room18_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.pz < -100.000000f+d) v.pz = -100.000000f+d, v.vz = 0;
		if(v.pz > -80.000000f-d) v.pz = -80.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -1.000000f+d)
	if(v.px <= 1.000000f-d)
	if(v.pz >= -1.000000f+d)
	if(v.pz <= 1.000000f-d)
	if(v.py + y > room17.h - w) {
		if(v.py + y > room17.h) {
			*r = &room19;
			v.px -= -9.000000f;
			v.py -= room17.h + room19.h;
			v.pz -= -9.000000f;
			return room19_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -1.000000f+d) v.px = -1.000000f+d, v.vx = 0;
		if(v.px > 1.000000f-d) v.px = 1.000000f-d, v.vx = 0;
		if(v.pz < -1.000000f+d) v.pz = -1.000000f+d, v.vz = 0;
		if(v.pz > 1.000000f-d) v.pz = 1.000000f-d, v.vz = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room17.w-w) v.px=room17.w-w, v.vx*=0;
	if(v.py > room17.h-w) v.py=room17.h-w, v.vy*=-1;
	if(v.pz > room17.d-w) v.pz=room17.d-w, v.vz*=0;
	if(v.px < w-room17.w) v.px=w-room17.w, v.vx*=0;
	if(v.py < w-room17.h) v.py=w-room17.h, v.vy*=0;
	if(v.pz < w-room17.d) v.pz=w-room17.d, v.vz*=0;
	return v;
}
fn float room17_cast_down(View v, float d) {
	if(d < v.py + room17.h) return d;
	if(v.px >= -10.000000f)
	if(v.px <= 10.000000f)
	if(v.pz >= -100.000000f)
	if(v.pz <= -80.000000f) {
		v.px -= 0.000000f;
		v.py += room17.h + room18.h;
		v.pz -= -90.000000f;
		return room18_cast_down(v, d);
	}

	return v.py + room17.h;
}
fn void room18_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 18);
	glUniform3f(u_scale_id, room18.w, room18.h, room18.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(+v.py < room18.h) {
		View door = View_through_uwd(v, room18.h, -10.000000f, 10.000000f, -10.000000f, 10.000000f);
		door.px -= 0.000000f;
		door.py -= room18.h + room17.h;
		door.pz -= 90.000000f;
		if(--depth) room17_render(door);
		depth++;
	}
	if(-v.py < room18.h) {
		View door = View_through_dwn(v, -room18.h, -10.000000f, 10.000000f, -10.000000f, 10.000000f);
		door.px -= 0.000000f;
		door.py += room18.h + room17.h;
		door.pz -= 90.000000f;
		if(--depth) room17_render(door);
		depth++;
	}
	if(+v.pz < room18.d) {
		View door = View_through_fwd(v, room18.d, -10.000000f, 10.000000f, -100.000000f, -80.000000f);
		door.px -= 0.000000f;
		door.py -= -90.000000f;
		door.pz -= room18.d + room19.d;
		if(--depth) room19_render(door);
		depth++;
	}

}
fn View room18_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room18.w < v.px && v.px < room18.w
	&& -room18.h < v.py && v.py < room18.h
	&& -room18.d < v.pz && v.pz < room18.d
	);
	if(v.px >= -10.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.pz >= -10.000000f+d)
	if(v.pz <= 10.000000f-d)
	if(v.py + y > room18.h - w) {
		if(v.py + y > room18.h) {
			*r = &room17;
			v.px -= 0.000000f;
			v.py -= room18.h + room17.h;
			v.pz -= 90.000000f;
			return room17_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.pz < -10.000000f+d) v.pz = -10.000000f+d, v.vz = 0;
		if(v.pz > 10.000000f-d) v.pz = 10.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -10.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.pz >= -10.000000f+d)
	if(v.pz <= 10.000000f-d)
	if(v.py + y < -room18.h + w) {
		if(v.py + y < -room18.h) {
			*r = &room17;
			v.px -= 0.000000f;
			v.py += room18.h + room17.h;
			v.pz -= 90.000000f;
			return room17_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.pz < -10.000000f+d) v.pz = -10.000000f+d, v.vz = 0;
		if(v.pz > 10.000000f-d) v.pz = 10.000000f-d, v.vz = 0;
		return v;
	}
	if(v.px >= -10.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.py >= -100.000000f+d)
	if(v.py <= -80.000000f-d)
	if(v.pz + z > room18.d - w) {
		if(v.pz + z > room18.d) {
			*r = &room19;
			v.px -= 0.000000f;
			v.py -= -90.000000f;
			v.pz -= room18.d + room19.d;
			v = room19_update(v, r, w, d, dt);
			v.vz -= room18._d + room19._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.py < -100.000000f+d) v.py = -100.000000f+d, v.vy = 0;
		if(v.py > -80.000000f-d) v.py = -80.000000f-d, v.vy = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room18.w-w) v.px=room18.w-w, v.vx*=0;
	if(v.py > room18.h-w) v.py=room18.h-w, v.vy*=-1;
	if(v.pz > room18.d-w) v.pz=room18.d-w, v.vz*=0;
	if(v.px < w-room18.w) v.px=w-room18.w, v.vx*=0;
	if(v.py < w-room18.h) v.py=w-room18.h, v.vy*=0;
	if(v.pz < w-room18.d) v.pz=w-room18.d, v.vz*=0;
	return v;
}
fn float room18_cast_down(View v, float d) {
	if(d < v.py + room18.h) return d;
	if(v.px >= -10.000000f)
	if(v.px <= 10.000000f)
	if(v.pz >= -10.000000f)
	if(v.pz <= 10.000000f) {
		v.px -= 0.000000f;
		v.py += room18.h + room17.h;
		v.pz -= 90.000000f;
		return room17_cast_down(v, d);
	}

	return v.py + room18.h;
}
fn void room19_render(View v) {
	if(v.xy[0] * v.xy[3] - v.xy[1] * v.xy[2] < 0) return;
	if(v.yz[0] * v.yz[3] - v.yz[1] * v.yz[2] < 0) return;
	if(v.zx[0] * v.zx[3] - v.zx[1] * v.zx[2] < 0) return;
	glUniform4f(u_xy_id, v.xy[0], v.xy[1], v.xy[2], v.xy[3]);
	glUniform4f(u_yz_id, v.yz[0], v.yz[1], v.yz[2], v.yz[3]);
	glUniform4f(u_zx_id, v.zx[0], v.zx[1], v.zx[2], v.zx[3]);
	glUniform4f(u_pos_id, v.px, v.py, v.pz, 19);
	glUniform3f(u_scale_id, room19.w, room19.h, room19.d);
	glDrawArrays(GL_QUADS, 0, 4 * 6);
	test_counter++;
	if(-v.pz < room19.d) {
		View door = View_through_bwd(v, -room19.d, -10.000000f, 10.000000f, -10.000000f, 10.000000f);
		door.px -= 0.000000f;
		door.py -= 90.000000f;
		door.pz += room19.d + room18.d;
		if(--depth) room18_render(door);
		depth++;
	}
	if(-v.py < room19.h) {
		View door = View_through_dwn(v, -room19.h, 8.000000f, 10.000000f, 8.000000f, 10.000000f);
		door.px -= 9.000000f;
		door.py += room19.h + room17.h;
		door.pz -= 9.000000f;
		if(--depth) room17_render(door);
		depth++;
	}

}
fn View room19_update(View v, Room **r, float w, float d, float dt) {
float x = v.vx * dt, y = v.vy * dt, z = v.vz * dt;
	if(-room19.w < v.px && v.px < room19.w
	&& -room19.h < v.py && v.py < room19.h
	&& -room19.d < v.pz && v.pz < room19.d
	);
	if(v.px >= -10.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.py >= -10.000000f+d)
	if(v.py <= 10.000000f-d)
	if(v.pz + z < -room19.d + w) {
		if(v.pz + z < -room19.d) {
			*r = &room18;
			v.px -= 0.000000f;
			v.py -= 90.000000f;
			v.pz += room19.d + room18.d;
			v = room18_update(v, r, w, d, dt);
			v.vz += room19._d + room18._d;
			return v;
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < -10.000000f+d) v.px = -10.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.py < -10.000000f+d) v.py = -10.000000f+d, v.vy = 0;
		if(v.py > 10.000000f-d) v.py = 10.000000f-d, v.vy = 0;
		return v;
	}
	if(v.px >= 8.000000f+d)
	if(v.px <= 10.000000f-d)
	if(v.pz >= 8.000000f+d)
	if(v.pz <= 10.000000f-d)
	if(v.py + y < -room19.h + w) {
		if(v.py + y < -room19.h) {
			*r = &room17;
			v.px -= 9.000000f;
			v.py += room19.h + room17.h;
			v.pz -= 9.000000f;
			return room17_update(v, r, w, d, dt);
		}
		v.px += x;
		v.py += y;
		v.pz += z;
		if(v.px < 8.000000f+d) v.px = 8.000000f+d, v.vx = 0;
		if(v.px > 10.000000f-d) v.px = 10.000000f-d, v.vx = 0;
		if(v.pz < 8.000000f+d) v.pz = 8.000000f+d, v.vz = 0;
		if(v.pz > 10.000000f-d) v.pz = 10.000000f-d, v.vz = 0;
		return v;
	}

	v.px += x;
	v.py += y;
	v.pz += z;
	if(v.px > room19.w-w) v.px=room19.w-w, v.vx*=0;
	if(v.py > room19.h-w) v.py=room19.h-w, v.vy*=-1;
	if(v.pz > room19.d-w) v.pz=room19.d-w, v.vz*=0;
	if(v.px < w-room19.w) v.px=w-room19.w, v.vx*=0;
	if(v.py < w-room19.h) v.py=w-room19.h, v.vy*=0;
	if(v.pz < w-room19.d) v.pz=w-room19.d, v.vz*=0;
	return v;
}
fn float room19_cast_down(View v, float d) {
	if(d < v.py + room19.h) return d;
	if(v.px >= 8.000000f)
	if(v.px <= 10.000000f)
	if(v.pz >= 8.000000f)
	if(v.pz <= 10.000000f) {
		v.px -= 9.000000f;
		v.py += room19.h + room17.h;
		v.pz -= 9.000000f;
		return room17_cast_down(v, d);
	}

	return v.py + room19.h;
}
